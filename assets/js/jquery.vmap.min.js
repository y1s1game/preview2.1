/*
 * JQVMap: jQuery Vector Map Library
 * @author JQVMap <me@peterschmalfeldt.com>
 * @version 1.5.1
 * @link http://jqvmap.com
 * @license https://github.com/manifestinteractive/jqvmap/blob/master/LICENSE
 * @builddate 2016/06/02
 */
var VectorCanvas=function(e,f,g){if(this.mode=window.SVGAngle?"svg":"vml",this.params=g,"svg"===this.mode){this.createSvgNode=function(b){return document.createElementNS(this.svgns,b)}}else{try{document.namespaces.rvml||document.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),this.createVmlNode=function(b){return document.createElement("<rvml:"+b+' class="rvml">')}}catch(h){this.createVmlNode=function(b){return document.createElement("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}document.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)")}"svg"===this.mode?this.canvas=this.createSvgNode("svg"):(this.canvas=this.createVmlNode("group"),this.canvas.style.position="absolute"),this.setSize(e,f)};VectorCanvas.prototype={svgns:"http://www.w3.org/2000/svg",mode:"svg",width:0,height:0,canvas:null};var ColorScale=function(e,f,g,h){e&&this.setColors(e),f&&this.setNormalizeFunction(f),g&&this.setMin(g),g&&this.setMax(h)};ColorScale.prototype={colors:[]};var JQVMap=function(i){i=i||{};var j,k=this,l=JQVMap.maps[i.map];if(!l){throw new Error('Invalid "'+i.map+'" map parameter. Please make sure you have loaded this map file in your HTML.')}this.selectedRegions=[],this.multiSelectRegion=i.multiSelectRegion,this.container=i.container,this.defaultWidth=l.width,this.defaultHeight=l.height,this.color=i.color,this.selectedColor=i.selectedColor,this.hoverColor=i.hoverColor,this.hoverColors=i.hoverColors,this.hoverOpacity=i.hoverOpacity,this.setBackgroundColor(i.backgroundColor),this.width=i.container.width(),this.height=i.container.height(),this.resize(),jQuery(window).resize(function(){var a=i.container.width(),b=i.container.height();if(a&&b){k.width=a,k.height=b,k.resize(),k.canvas.setSize(k.width,k.height),k.applyTransform();var c=jQuery.Event("resize.jqvmap");jQuery(i.container).trigger(c,[a,b]),j&&(jQuery(".jqvmap-pin").remove(),k.pinHandlers=!1,k.placePins(j.pins,j.mode))}}),this.canvas=new VectorCanvas(this.width,this.height,i),i.container.append(this.canvas.canvas),this.makeDraggable(),this.rootGroup=this.canvas.createGroup(!0),this.index=JQVMap.mapIndex,this.label=jQuery("<div/>").addClass("jqvmap-label").appendTo(jQuery("body")).hide(),i.enableZoom&&(jQuery("<div/>").addClass("jqvmap-zoomin").text("+").appendTo(i.container),jQuery("<div/>").addClass("jqvmap-zoomout").html("&#x2212;").appendTo(i.container)),k.countries=[];for(var m in l.paths){var n=this.canvas.createPath({path:l.paths[m].path});n.setFill(this.color),n.id=k.getCountryId(m),k.countries[m]=n,"svg"===this.canvas.mode?n.setAttribute("class","jqvmap-region"):jQuery(n).addClass("jqvmap-region"),jQuery(this.rootGroup).append(n)}if(jQuery(i.container).delegate("svg"===this.canvas.mode?"path":"shape","mouseover mouseout",function(a){var c=a.target,d=a.target.id.split("_").pop(),q=jQuery.Event("labelShow.jqvmap"),r=jQuery.Event("regionMouseOver.jqvmap");d=d.toLowerCase(),"mouseover"===a.type?(jQuery(i.container).trigger(r,[d,l.paths[d].name]),r.isDefaultPrevented()||k.highlight(d,c),i.showTooltip&&(k.label.text(l.paths[d].name),jQuery(i.container).trigger(q,[k.label,d]),q.isDefaultPrevented()||(k.label.show(),k.labelWidth=k.label.width(),k.labelHeight=k.label.height()))):(k.unhighlight(d,c),k.label.hide(),jQuery(i.container).trigger("regionMouseOut.jqvmap",[d,l.paths[d].name]))}),jQuery(i.container).delegate("svg"===this.canvas.mode?"path":"shape","click",function(a){var c=a.target,d=a.target.id.split("_").pop(),q=jQuery.Event("regionClick.jqvmap");if(d=d.toLowerCase(),jQuery(i.container).trigger(q,[d,l.paths[d].name]),!i.multiSelectRegion&&!q.isDefaultPrevented()){for(var r in l.paths){k.countries[r].currentFillColor=k.countries[r].getOriginalFill(),k.countries[r].setFill(k.countries[r].getOriginalFill())}}q.isDefaultPrevented()||(k.isSelected(d)?k.deselect(d,c):k.select(d,c))}),i.showTooltip&&i.container.mousemove(function(c){if(k.label.is(":visible")){var e=c.pageX-15-k.labelWidth,f=c.pageY-15-k.labelHeight;0>e&&(e=c.pageX+15),0>f&&(f=c.pageY+15),k.label.css({left:e,top:f})}}),this.setColors(i.colors),this.canvas.canvas.appendChild(this.rootGroup),this.applyTransform(),this.colorScale=new ColorScale(i.scaleColors,i.normalizeFunction,i.valueMin,i.valueMax),i.values&&(this.values=i.values,this.setValues(i.values)),i.selectedRegions){if(i.selectedRegions instanceof Array){for(var o in i.selectedRegions){this.select(i.selectedRegions[o].toLowerCase())}}else{this.select(i.selectedRegions.toLowerCase())}}if(this.bindZoomButtons(),i.pins&&(j={pins:i.pins,mode:i.pinMode},this.pinHandlers=!1,this.placePins(i.pins,i.pinMode)),i.showLabels){this.pinHandlers=!1;var p={};for(m in k.countries){"function"!=typeof k.countries[m]&&(i.pins&&i.pins[m]||(p[m]=m.toUpperCase()))}j={pins:p,mode:"content"},this.placePins(p,"content")}JQVMap.mapIndex++};JQVMap.prototype={transX:0,transY:0,scale:1,baseTransX:0,baseTransY:0,baseScale:1,width:0,height:0,countries:{},countriesColors:{},countriesData:{},zoomStep:1.4,zoomMaxStep:4,zoomCurStep:1},JQVMap.xlink="http://www.w3.org/1999/xlink",JQVMap.mapIndex=1,JQVMap.maps={},function(){var c={colors:1,values:1,backgroundColor:1,scaleColors:1,normalizeFunction:1,enableZoom:1,showTooltip:1,borderColor:1,borderWidth:1,borderOpacity:1,selectedRegions:1,multiSelectRegion:1},d={onLabelShow:"labelShow",onLoad:"load",onRegionOver:"regionMouseOver",onRegionOut:"regionMouseOut",onRegionClick:"regionClick",onRegionSelect:"regionSelect",onRegionDeselect:"regionDeselect",onResize:"resize"};jQuery.fn.vectorMap=function(a){var b={map:"world_en",backgroundColor:"#a5bfdd",color:"#f4f3f0",hoverColor:"#c9dfaf",hoverColors:{},selectedColor:"#c9dfaf",scaleColors:["#b6d6ff","#005ace"],normalizeFunction:"linear",enableZoom:!0,showTooltip:!0,borderColor:"#818181",borderWidth:1,borderOpacity:0.25,selectedRegions:null,multiSelectRegion:!1},h=this.data("mapObject");if("addMap"===a){JQVMap.maps[arguments[1]]=arguments[2]}else{if("set"!==a||!c[arguments[1]]){if("string"==typeof a&&"function"==typeof h[a]){return h[a].apply(h,Array.prototype.slice.call(arguments,1))}jQuery.extend(b,a),b.container=this,this.css({position:"relative",overflow:"hidden"}),h=new JQVMap(b),this.data("mapObject",h),this.unbind(".jqvmap");for(var i in d){b[i]&&this.bind(d[i]+".jqvmap",b[i])}var j=jQuery.Event("load.jqvmap");return jQuery(b.container).trigger(j,h),h}h["set"+arguments[1].charAt(0).toUpperCase()+arguments[1].substr(1)].apply(h,Array.prototype.slice.call(arguments,2))}}}(jQuery),ColorScale.arrayToRgb=function(e){for(var f,g="#",h=0;h<e.length;h++){f=e[h].toString(16),g+=1===f.length?"0"+f:f}return g},ColorScale.prototype.getColor=function(h){"function"==typeof this.normalize&&(h=this.normalize(h));for(var i,j=[],k=0,l=0;l<this.colors.length-1;l++){i=this.vectorLength(this.vectorSubtract(this.colors[l+1],this.colors[l])),j.push(i),k+=i}var m=(this.maxValue-this.minValue)/k;for(l=0;l<j.length;l++){j[l]*=m}for(l=0,h-=this.minValue;h-j[l]>=0;){h-=j[l],l++}var n;for(n=l===this.colors.length-1?this.vectorToNum(this.colors[l]).toString(16):this.vectorToNum(this.vectorAdd(this.colors[l],this.vectorMult(this.vectorSubtract(this.colors[l+1],this.colors[l]),h/j[l]))).toString(16);n.length<6;){n="0"+n}return"#"+n},ColorScale.rgbToArray=function(b){return b=b.substr(1),[parseInt(b.substr(0,2),16),parseInt(b.substr(2,2),16),parseInt(b.substr(4,2),16)]},ColorScale.prototype.setColors=function(c){for(var d=0;d<c.length;d++){c[d]=ColorScale.rgbToArray(c[d])}this.colors=c},ColorScale.prototype.setMax=function(b){this.clearMaxValue=b,"function"==typeof this.normalize?this.maxValue=this.normalize(b):this.maxValue=b},ColorScale.prototype.setMin=function(b){this.clearMinValue=b,"function"==typeof this.normalize?this.minValue=this.normalize(b):this.minValue=b},ColorScale.prototype.setNormalizeFunction=function(b){"polynomial"===b?this.normalize=function(c){return Math.pow(c,0.2)}:"linear"===b?delete this.normalize:this.normalize=b,this.setMin(this.clearMinValue),this.setMax(this.clearMaxValue)},ColorScale.prototype.vectorAdd=function(e,f){for(var g=[],h=0;h<e.length;h++){g[h]=e[h]+f[h]}return g},ColorScale.prototype.vectorLength=function(d){for(var e=0,f=0;f<d.length;f++){e+=d[f]*d[f]}return Math.sqrt(e)},ColorScale.prototype.vectorMult=function(e,f){for(var g=[],h=0;h<e.length;h++){g[h]=e[h]*f}return g},ColorScale.prototype.vectorSubtract=function(e,f){for(var g=[],h=0;h<e.length;h++){g[h]=e[h]-f[h]}return g},ColorScale.prototype.vectorToNum=function(d){for(var e=0,f=0;f<d.length;f++){e+=Math.round(d[f])*Math.pow(256,d.length-f-1)}return e},JQVMap.prototype.applyTransform=function(){var e,f,g,h;this.defaultWidth*this.scale<=this.width?(e=(this.width-this.defaultWidth*this.scale)/(2*this.scale),g=(this.width-this.defaultWidth*this.scale)/(2*this.scale)):(e=0,g=(this.width-this.defaultWidth*this.scale)/this.scale),this.defaultHeight*this.scale<=this.height?(f=(this.height-this.defaultHeight*this.scale)/(2*this.scale),h=(this.height-this.defaultHeight*this.scale)/(2*this.scale)):(f=0,h=(this.height-this.defaultHeight*this.scale)/this.scale),this.transY>f?this.transY=f:this.transY<h&&(this.transY=h),this.transX>e?this.transX=e:this.transX<g&&(this.transX=g),this.canvas.applyTransformParams(this.scale,this.transX,this.transY)},JQVMap.prototype.bindZoomButtons=function(){var b=this;this.container.find(".jqvmap-zoomin").click(function(){b.zoomIn()}),this.container.find(".jqvmap-zoomout").click(function(){b.zoomOut()})},JQVMap.prototype.deselect=function(d,e){if(d=d.toLowerCase(),e=e||jQuery("#"+this.getCountryId(d))[0],this.isSelected(d)){this.selectedRegions.splice(this.selectIndex(d),1),jQuery(this.container).trigger("regionDeselect.jqvmap",[d]),e.currentFillColor=e.getOriginalFill(),e.setFill(e.getOriginalFill())}else{for(var f in this.countries){this.selectedRegions.splice(this.selectedRegions.indexOf(f),1),this.countries[f].currentFillColor=this.color,this.countries[f].setFill(this.color)}}},JQVMap.prototype.getCountryId=function(b){return"jqvmap"+this.index+"_"+b},JQVMap.prototype.getPin=function(c){var d=jQuery("#"+this.getPinId(c));return d.html()},JQVMap.prototype.getPinId=function(b){return this.getCountryId(b)+"_pin"},JQVMap.prototype.getPins=function(){var c=this.container.find(".jqvmap-pin"),d={};return jQuery.each(c,function(b,f){f=jQuery(f);var g=f.attr("for").toLowerCase(),h=f.html();d[g]=h}),JSON.stringify(d)},JQVMap.prototype.highlight=function(c,d){d=d||jQuery("#"+this.getCountryId(c))[0],this.hoverOpacity?d.setOpacity(this.hoverOpacity):this.hoverColors&&c in this.hoverColors?(d.currentFillColor=d.getFill()+"",d.setFill(this.hoverColors[c])):this.hoverColor&&(d.currentFillColor=d.getFill()+"",d.setFill(this.hoverColor))},JQVMap.prototype.isSelected=function(b){return this.selectIndex(b)>=0},JQVMap.prototype.makeDraggable=function(){var l,m,n=!1,o=this;o.isMoving=!1,o.isMovingTimeout=!1;var p,q,r,s,t,u,v;this.container.mousemove(function(a){return n&&(o.transX-=(l-a.pageX)/o.scale,o.transY-=(m-a.pageY)/o.scale,o.applyTransform(),l=a.pageX,m=a.pageY,o.isMoving=!0,o.isMovingTimeout&&clearTimeout(o.isMovingTimeout),o.container.trigger("drag")),!1}).mousedown(function(a){return n=!0,l=a.pageX,m=a.pageY,!1}).mouseup(function(){return n=!1,clearTimeout(o.isMovingTimeout),o.isMovingTimeout=setTimeout(function(){o.isMoving=!1},100),!1}).mouseout(function(){return n&&o.isMoving?(clearTimeout(o.isMovingTimeout),o.isMovingTimeout=setTimeout(function(){n=!1,o.isMoving=!1},100),!1):void 0}),jQuery(this.container).bind("touchmove",function(d){var e,f,g,h,i=d.originalEvent.touches;if(1===i.length){if(1===p){if(u===i[0].pageX&&v===i[0].pageY){return}g=o.transX,h=o.transY,o.transX-=(u-i[0].pageX)/o.scale,o.transY-=(v-i[0].pageY)/o.scale,o.applyTransform(),(g!==o.transX||h!==o.transY)&&d.preventDefault(),o.isMoving=!0,o.isMovingTimeout&&clearTimeout(o.isMovingTimeout)}u=i[0].pageX,v=i[0].pageY}else{2===i.length&&(2===p?(f=Math.sqrt(Math.pow(i[0].pageX-i[1].pageX,2)+Math.pow(i[0].pageY-i[1].pageY,2))/s,o.setScale(t*f,q,r),d.preventDefault()):(e=jQuery(o.container).offset(),q=i[0].pageX>i[1].pageX?i[1].pageX+(i[0].pageX-i[1].pageX)/2:i[0].pageX+(i[1].pageX-i[0].pageX)/2,r=i[0].pageY>i[1].pageY?i[1].pageY+(i[0].pageY-i[1].pageY)/2:i[0].pageY+(i[1].pageY-i[0].pageY)/2,q-=e.left,r-=e.top,t=o.scale,s=Math.sqrt(Math.pow(i[0].pageX-i[1].pageX,2)+Math.pow(i[0].pageY-i[1].pageY,2))))}p=i.length}),jQuery(this.container).bind("touchstart",function(){p=0}),jQuery(this.container).bind("touchend",function(){p=0})},JQVMap.prototype.placePins=function(e,f){var g=this;if((!f||"content"!==f&&"id"!==f)&&(f="content"),"content"===f?jQuery.each(e,function(c,i){if(0!==jQuery("#"+g.getCountryId(c)).length){var j=g.getPinId(c),k=jQuery("#"+j);k.length>0&&k.remove(),g.container.append('<div id="'+j+'" for="'+c+'" class="jqvmap-pin" style="position:absolute">'+i+"</div>")}}):jQuery.each(e,function(c,i){if(0!==jQuery("#"+g.getCountryId(c)).length){var j=g.getPinId(c),k=jQuery("#"+j);k.length>0&&k.remove(),g.container.append('<div id="'+j+'" for="'+c+'" class="jqvmap-pin" style="position:absolute"></div>'),k.append(jQuery("#"+i))}}),this.positionPins(),!this.pinHandlers){this.pinHandlers=!0;var h=function(){g.positionPins()};this.container.bind("zoomIn",h).bind("zoomOut",h).bind("drag",h)}},JQVMap.prototype.positionPins=function(){var c=this,d=this.container.find(".jqvmap-pin");jQuery.each(d,function(a,m){m=jQuery(m);var n=c.getCountryId(m.attr("for").toLowerCase()),o=jQuery("#"+n),p=o[0].getBBox(),q=c.scale,r=c.canvas.rootGroup.getBoundingClientRect(),s=c.container[0].getBoundingClientRect(),t={left:r.left-s.left,top:r.top-s.top},u=p.x*q+p.width*q/2,v=p.y*q+p.height*q/2;m.css({left:t.left+u-m.width()/2,top:t.top+v-m.height()/2})})},JQVMap.prototype.removePin=function(b){b=b.toLowerCase(),jQuery("#"+this.getPinId(b)).remove()},JQVMap.prototype.removePins=function(){this.container.find(".jqvmap-pin").remove()},JQVMap.prototype.reset=function(){for(var b in this.countries){this.countries[b].setFill(this.color)}this.scale=this.baseScale,this.transX=this.baseTransX,this.transY=this.baseTransY,this.applyTransform()},JQVMap.prototype.resize=function(){var b=this.baseScale;this.width/this.height>this.defaultWidth/this.defaultHeight?(this.baseScale=this.height/this.defaultHeight,this.baseTransX=Math.abs(this.width-this.defaultWidth*this.baseScale)/(2*this.baseScale)):(this.baseScale=this.width/this.defaultWidth,this.baseTransY=Math.abs(this.height-this.defaultHeight*this.baseScale)/(2*this.baseScale)),this.scale*=this.baseScale/b,this.transX*=this.baseScale/b,this.transY*=this.baseScale/b},JQVMap.prototype.select=function(c,d){c=c.toLowerCase(),d=d||jQuery("#"+this.getCountryId(c))[0],this.isSelected(c)||(this.multiSelectRegion?this.selectedRegions.push(c):this.selectedRegions=[c],jQuery(this.container).trigger("regionSelect.jqvmap",[c]),this.selectedColor&&d&&(d.currentFillColor=this.selectedColor,d.setFill(this.selectedColor)))},JQVMap.prototype.selectIndex=function(c){c=c.toLowerCase();for(var d=0;d<this.selectedRegions.length;d++){if(c===this.selectedRegions[d]){return d}}return -1},JQVMap.prototype.setBackgroundColor=function(b){this.container.css("background-color",b)},JQVMap.prototype.setColors=function(e,f){if("string"==typeof e){this.countries[e].setFill(f),this.countries[e].setAttribute("original",f)}else{var g=e;for(var h in g){this.countries[h]&&(this.countries[h].setFill(g[h]),this.countries[h].setAttribute("original",g[h]))}}},JQVMap.prototype.setNormalizeFunction=function(b){this.colorScale.setNormalizeFunction(b),this.values&&this.setValues(this.values)},JQVMap.prototype.setScale=function(b){this.scale=b,this.applyTransform()},JQVMap.prototype.setScaleColors=function(b){this.colorScale.setColors(b),this.values&&this.setValues(this.values)},JQVMap.prototype.setValues=function(g){var h,i=0,j=Number.MAX_VALUE;for(var k in g){k=k.toLowerCase(),h=parseFloat(g[k]),isNaN(h)||(h>i&&(i=g[k]),j>h&&(j=h))}j===i&&i++,this.colorScale.setMin(j),this.colorScale.setMax(i);var l={};for(k in g){k=k.toLowerCase(),h=parseFloat(g[k]),l[k]=isNaN(h)?this.color:this.colorScale.getColor(h)}this.setColors(l),this.values=g},JQVMap.prototype.unhighlight=function(c,d){c=c.toLowerCase(),d=d||jQuery("#"+this.getCountryId(c))[0],d.setOpacity(1),d.currentFillColor&&d.setFill(d.currentFillColor)},JQVMap.prototype.zoomIn=function(){var d=this,e=(jQuery("#zoom").innerHeight()-12-30-6-7-6)/(this.zoomMaxStep-this.zoomCurStep);if(d.zoomCurStep<d.zoomMaxStep){d.transX-=(d.width/d.scale-d.width/(d.scale*d.zoomStep))/2,d.transY-=(d.height/d.scale-d.height/(d.scale*d.zoomStep))/2,d.setScale(d.scale*d.zoomStep),d.zoomCurStep++;var f=jQuery("#zoomSlider");f.css("top",parseInt(f.css("top"),10)-e),d.container.trigger("zoomIn")}},JQVMap.prototype.zoomOut=function(){var d=this,e=(jQuery("#zoom").innerHeight()-12-30-6-7-6)/(this.zoomMaxStep-this.zoomCurStep);if(d.zoomCurStep>1){d.transX+=(d.width/(d.scale/d.zoomStep)-d.width/d.scale)/2,d.transY+=(d.height/(d.scale/d.zoomStep)-d.height/d.scale)/2,d.setScale(d.scale/d.zoomStep),d.zoomCurStep--;var f=jQuery("#zoomSlider");f.css("top",parseInt(f.css("top"),10)+e),d.container.trigger("zoomOut")}},VectorCanvas.prototype.applyTransformParams=function(d,e,f){"svg"===this.mode?this.rootGroup.setAttribute("transform","scale("+d+") translate("+e+", "+f+")"):(this.rootGroup.coordorigin=this.width-e+","+(this.height-f),this.rootGroup.coordsize=this.width/d+","+this.height/d)},VectorCanvas.prototype.createGroup=function(c){var d;return"svg"===this.mode?d=this.createSvgNode("g"):(d=this.createVmlNode("group"),d.style.width=this.width+"px",d.style.height=this.height+"px",d.style.left="0px",d.style.top="0px",d.coordorigin="0 0",d.coordsize=this.width+" "+this.height),c&&(this.rootGroup=d),d},VectorCanvas.prototype.createPath=function(e){var f;if("svg"===this.mode){f=this.createSvgNode("path"),f.setAttribute("d",e.path),null!==this.params.borderColor&&f.setAttribute("stroke",this.params.borderColor),this.params.borderWidth>0&&(f.setAttribute("stroke-width",this.params.borderWidth),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round")),this.params.borderOpacity>0&&f.setAttribute("stroke-opacity",this.params.borderOpacity),f.setFill=function(b){this.setAttribute("fill",b),null===this.getAttribute("original")&&this.setAttribute("original",b)},f.getFill=function(){return this.getAttribute("fill")},f.getOriginalFill=function(){return this.getAttribute("original")},f.setOpacity=function(b){this.setAttribute("fill-opacity",b)}}else{f=this.createVmlNode("shape"),f.coordorigin="0 0",f.coordsize=this.width+" "+this.height,f.style.width=this.width+"px",f.style.height=this.height+"px",f.fillcolor=JQVMap.defaultFillColor,f.stroked=!1,f.path=VectorCanvas.pathSvgToVml(e.path);var g=this.createVmlNode("skew");g.on=!0,g.matrix="0.01,0,0,0.01,0,0",g.offset="0,0",f.appendChild(g);var h=this.createVmlNode("fill");f.appendChild(h),f.setFill=function(b){this.getElementsByTagName("fill")[0].color=b,null===this.getAttribute("original")&&this.setAttribute("original",b)},f.getFill=function(){return this.getElementsByTagName("fill")[0].color},f.getOriginalFill=function(){return this.getAttribute("original")},f.setOpacity=function(b){this.getElementsByTagName("fill")[0].opacity=parseInt(100*b,10)+"%"}}return f},VectorCanvas.prototype.pathSvgToVml=function(g){var h,i,j="",k=0,l=0;return g.replace(/([MmLlHhVvCcSs])((?:-?(?:\d+)?(?:\.\d+)?,?\s?)+)/g,function(b,c,d){d=d.replace(/(\d)-/g,"$1,-").replace(/\s+/g,",").split(","),d[0]||d.shift();for(var e=0,f=d.length;f>e;e++){d[e]=Math.round(100*d[e])}switch(c){case"m":k+=d[0],l+=d[1],j="t"+d.join(",");break;case"M":k=d[0],l=d[1],j="m"+d.join(",");break;case"l":k+=d[0],l+=d[1],j="r"+d.join(",");break;case"L":k=d[0],l=d[1],j="l"+d.join(",");break;case"h":k+=d[0],j="r"+d[0]+",0";break;case"H":k=d[0],j="l"+k+","+l;break;case"v":l+=d[0],j="r0,"+d[0];break;case"V":l=d[0],j="l"+k+","+l;break;case"c":h=k+d[d.length-4],i=l+d[d.length-3],k+=d[d.length-2],l+=d[d.length-1],j="v"+d.join(",");break;case"C":h=d[d.length-4],i=d[d.length-3],k=d[d.length-2],l=d[d.length-1],j="c"+d.join(",");break;case"s":d.unshift(l-i),d.unshift(k-h),h=k+d[d.length-4],i=l+d[d.length-3],k+=d[d.length-2],l+=d[d.length-1],j="v"+d.join(",");break;case"S":d.unshift(l+l-i),d.unshift(k+k-h),h=d[d.length-4],i=d[d.length-3],k=d[d.length-2],l=d[d.length-1],j="c"+d.join(",")}return j}).replace(/z/g,"")},VectorCanvas.prototype.setSize=function(f,g){if("svg"===this.mode){this.canvas.setAttribute("width",f),this.canvas.setAttribute("height",g)}else{if(this.canvas.style.width=f+"px",this.canvas.style.height=g+"px",this.canvas.coordsize=f+" "+g,this.canvas.coordorigin="0 0",this.rootGroup){for(var h=this.rootGroup.getElementsByTagName("shape"),i=0,j=h.length;j>i;i++){h[i].coordsize=f+" "+g,h[i].style.width=f+"px",h[i].style.height=g+"px"}this.rootGroup.coordsize=f+" "+g,this.rootGroup.style.width=f+"px",this.rootGroup.style.height=g+"px"}}this.width=f,this.height=g};