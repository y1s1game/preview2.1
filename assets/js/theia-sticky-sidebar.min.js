!function(a){a.fn.theiaStickySidebar=function(h){function c(k,j){var i=f(k,j);i||(console.log("TSS: Body width smaller than options.minWidth. Init is delayed."),a(document).on("scroll."+k.namespace,function(m,l){return function(e){var o=f(m,l);o&&a(this).unbind(e)}}(k,j)),a(window).on("resize."+k.namespace,function(m,l){return function(e){var o=f(m,l);o&&a(this).unbind(e)}}(k,j)))}function f(j,i){return j.initialized===!0||!(a("body").width()<j.minWidth)&&(b(j,i),!0)}function b(k,i){k.initialized=!0;var j=a("#theia-sticky-sidebar-stylesheet-"+k.namespace);0===j.length&&a("head").append(a('<style id="theia-sticky-sidebar-stylesheet-'+k.namespace+'">.theiaStickySidebar:after {content: ""; display: table; clear: both;}</style>')),i.each(function(){function n(){l.fixedScrollTop=0,l.sidebar.css({"min-height":"1px"}),l.stickySidebar.css({position:"static",width:"",transform:"none"})}function p(r){var o=r.height();return r.children().each(function(){o=Math.max(o,a(this).height())}),o}var l={};if(l.sidebar=a(this),l.options=k||{},l.container=a(l.options.containerSelector),0==l.container.length&&(l.container=l.sidebar.parent()),l.sidebar.parents().css("-webkit-transform","none"),l.sidebar.css({position:l.options.defaultPosition,overflow:"visible","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"}),l.stickySidebar=l.sidebar.find(".theiaStickySidebar"),0==l.stickySidebar.length){var t=/(?:text|application)\/(?:x-)?(?:javascript|ecmascript)/i;l.sidebar.find("script").filter(function(e,o){return 0===o.type.length||o.type.match(t)}).remove(),l.stickySidebar=a("<div>").addClass("theiaStickySidebar").append(l.sidebar.children()),l.sidebar.append(l.stickySidebar)}l.marginBottom=parseInt(l.sidebar.css("margin-bottom")),l.paddingTop=parseInt(l.sidebar.css("padding-top")),l.paddingBottom=parseInt(l.sidebar.css("padding-bottom"));var q=l.stickySidebar.offset().top,m=l.stickySidebar.outerHeight();l.stickySidebar.css("padding-top",1),l.stickySidebar.css("padding-bottom",1),q-=l.stickySidebar.offset().top,m=l.stickySidebar.outerHeight()-m-q,0==q?(l.stickySidebar.css("padding-top",0),l.stickySidebarPaddingTop=0):l.stickySidebarPaddingTop=1,0==m?(l.stickySidebar.css("padding-bottom",0),l.stickySidebarPaddingBottom=0):l.stickySidebarPaddingBottom=1,l.previousScrollTop=null,l.fixedScrollTop=0,n(),l.onScroll=function(e){if(e.stickySidebar.is(":visible")){if(a("body").width()<e.options.minWidth){return void n()}if(e.options.disableOnResponsiveLayouts){var I=e.sidebar.outerWidth("none"==e.sidebar.css("float"));if(I+50>e.container.width()){return void n()}}var H=a(document).scrollTop(),z="static";if(H>=e.sidebar.offset().top+(e.paddingTop-e.options.additionalMarginTop)){var w,G=e.paddingTop+k.additionalMarginTop,o=e.paddingBottom+e.marginBottom+k.additionalMarginBottom,E=e.sidebar.offset().top,A=e.sidebar.offset().top+p(e.container),C=0+k.additionalMarginTop,B=e.stickySidebar.outerHeight()+G+o<a(window).height();w=B?C+e.stickySidebar.outerHeight():a(window).height()-e.marginBottom-e.paddingBottom-k.additionalMarginBottom;var K=E-H+e.paddingTop,J=A-H-e.paddingBottom-e.marginBottom,N=e.stickySidebar.offset().top-H,F=e.previousScrollTop-H;"fixed"==e.stickySidebar.css("position")&&"modern"==e.options.sidebarBehavior&&(N+=F),"stick-to-top"==e.options.sidebarBehavior&&(N=k.additionalMarginTop),"stick-to-bottom"==e.options.sidebarBehavior&&(N=w-e.stickySidebar.outerHeight()),N=F>0?Math.min(N,C):Math.max(N,w-e.stickySidebar.outerHeight()),N=Math.max(N,K),N=Math.min(N,J-e.stickySidebar.outerHeight());var D=e.container.height()==e.stickySidebar.outerHeight();z=(D||N!=C)&&(D||N!=w-e.stickySidebar.outerHeight())?H+N-e.sidebar.offset().top-e.paddingTop<=k.additionalMarginTop?"static":"absolute":"fixed"}if("fixed"==z){var L=a(document).scrollLeft();e.stickySidebar.css({position:"fixed",width:d(e.stickySidebar)+"px",transform:"translateY("+N+"px)",left:e.sidebar.offset().left+parseInt(e.sidebar.css("padding-left"))-L+"px",top:"0px"})}else{if("absolute"==z){var M={};"absolute"!=e.stickySidebar.css("position")&&(M.position="absolute",M.transform="translateY("+(H+N-e.sidebar.offset().top-e.stickySidebarPaddingTop-e.stickySidebarPaddingBottom)+"px)",M.top="0px"),M.width=d(e.stickySidebar)+"px",M.left="",e.stickySidebar.css(M)}else{"static"==z&&n()}}"static"!=z&&1==e.options.updateSidebarHeight&&e.sidebar.css({"min-height":e.stickySidebar.outerHeight()+e.stickySidebar.offset().top-e.sidebar.offset().top+e.paddingBottom}),e.previousScrollTop=H}},l.onScroll(l),a(document).on("scroll."+l.options.namespace,function(e){return function(){e.onScroll(e)}}(l)),a(window).on("resize."+l.options.namespace,function(e){return function(){e.stickySidebar.css({position:"static"}),e.onScroll(e)}}(l)),"undefined"!=typeof ResizeSensor&&new ResizeSensor(l.stickySidebar[0],function(e){return function(){e.onScroll(e)}}(l))})}function d(e){var j;try{j=e[0].getBoundingClientRect().width}catch(e){}return"undefined"==typeof j&&(j=e.width()),j}var g={containerSelector:"",additionalMarginTop:0,additionalMarginBottom:0,updateSidebarHeight:!0,minWidth:0,disableOnResponsiveLayouts:!0,sidebarBehavior:"modern",defaultPosition:"relative",namespace:"TSS"};return h=a.extend(g,h),h.additionalMarginTop=parseInt(h.additionalMarginTop)||0,h.additionalMarginBottom=parseInt(h.additionalMarginBottom)||0,c(h,this),this}}(jQuery);